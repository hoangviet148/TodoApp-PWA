<!DOCTYPE html>
<html lang="en" class="left_menu_show">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Completed</title>
    <link rel="stylesheet" href="../css/todaytask.css">
    <link rel="stylesheet" href="../css/completed_task.css">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="../js/todayTask.js"></script>
    <script src="../js/completed_task.js"></script>
    <script src="../js/sign_out.js"></script>
    <script src="../js/blockAccess.js"></script>

    <link rel="manifest" href="../manifest.json"/>
</head>

<script>blockAccess()</script>

<body style="box-sizing: content-box;">
<div id="todoist_app">
    <div id="page_background">
        <div id="top_bar">
            <div id="top_bar_inner" role="banner">
                <div class="left_control">
                    <button type="button" aria-label="Main menu" role="switch" aria-checked="true"
                            onclick="controlLeftMenu()" class="left_menu_toggle top_bar_btn"
                            data-reach-tooltip-trigger="">
                        <svg viewBox="0 0 24 24" class="close_icon" width="24"
                             height="24">
                            <path fill="currentColor" fill-rule="nonzero"
                                  d="M5.146 5.146a.5.5 0 0 1 .708 0L12 11.293l6.146-6.147a.5.5 0 0 1 .638-.057l.07.057a.5.5 0 0 1 0 .708L12.707 12l6.147 6.146a.5.5 0 0 1 .057.638l-.057.07a.5.5 0 0 1-.708 0L12 12.707l-6.146 6.147a.5.5 0 0 1-.638.057l-.07-.057a.5.5 0 0 1 0-.708L11.293 12 5.146 5.854a.5.5 0 0 1-.057-.638z">
                            </path>
                        </svg>
                        <svg class="menu_icon" width="24" height="24" viewBox="0 0 24 24">
                            <path fill="currentColor" fill-rule="evenodd"
                                  d="M4.5 5h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1zm0 6h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 6h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1z">
                            </path>
                        </svg>
                    </button>

                    <a href="../index.html">
                        <button type="button" aria-label="Go to Home view" class="top_bar_btn"
                                data-reach-tooltip-trigger="">
                            <svg width="24" height="24" viewBox="0 0 24 24">
                                <path fill="currentColor"
                                      d="M12.527 3.075c.35.104.64.263 1.27.876L19.1 9.123c.374.364.49.505.601.678.11.174.185.351.232.552.042.178.062.34.066.742L20 17.718c0 .446-.046.607-.134.77a.906.906 0 01-.378.378c-.163.088-.324.134-.77.134H14v-4.718c0-.446-.046-.607-.134-.77a.906.906 0 00-.378-.378c-.142-.077-.284-.122-.616-.132L12.718 13h-1.436c-.446 0-.607.046-.77.134a.906.906 0 00-.378.378c-.077.142-.122.284-.132.616l-.002.154V19H5.282c-.446 0-.607-.046-.77-.134a.906.906 0 01-.378-.378c-.088-.163-.134-.324-.134-.77v-6.462c0-.522.02-.703.067-.903.047-.2.121-.378.232-.552l.077-.113c.098-.134.233-.282.524-.565l5.304-5.172c.629-.613.92-.772 1.269-.876a1.82 1.82 0 011.054 0zm-.286.958a.825.825 0 00-.482 0c-.18.054-.326.139-.63.418l-.227.216L5.598 9.84c-.3.293-.385.39-.456.5a.76.76 0 00-.102.242c-.026.112-.037.224-.04.531l.002 6.807.005.073.074.006L8.999 18 9 14.268l.003-.17c.013-.448.083-.749.249-1.058a1.9 1.9 0 01.788-.788c.306-.164.6-.234 1.043-.249l.199-.003h1.45l.17.003c.448.013.749.083 1.058.249.337.18.608.45.788.788.164.306.234.6.249 1.043l.003.199L14.999 18l3.92-.002.073-.006.006-.073.002-.2v-6.615l-.005-.218a1.494 1.494 0 00-.035-.305.747.747 0 00-.102-.242l-.059-.084a3.571 3.571 0 00-.294-.315l-5.407-5.273c-.425-.414-.604-.545-.798-.615l-.06-.019z">
                                </path>
                            </svg>
                        </button>
                    </a>

                    <div id="quick_find" data-testid="quick_find_container" style="width: 198px;">
                        <svg
                                xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"
                                class="search_icon">
                            <path
                                    d="M10.5 3a7.5 7.5 0 015.645 12.438l4.709 4.708a.502.502 0 01-.708.708l-4.708-4.709A7.5 7.5 0 1110.5 3zm0 1a6.5 6.5 0 100 13 6.5 6.5 0 000-13z"
                                    fill="currentColor"></path>
                        </svg>
                        <input id="id-v33jcd" role="combobox" autocomplete="off" aria-expanded="false"
                               aria-autocomplete="none" class="quick_find__input" placeholder="Find"
                               aria-label="Quick find" list="list_results" onfocus="expandQuickFind()"
                               onblur="collapseQuickFind()">
                        <datalist id="list_results"></datalist>
                        <button class="close_icon" aria-label="Close Find">
                            <svg viewBox="0 0 24 24" class="" width="22" height="22" aria-hidden="true">
                                <path fill="currentColor" fill-rule="nonzero"
                                      d="M5.146 5.146a.5.5 0 0 1 .708 0L12 11.293l6.146-6.147a.5.5 0 0 1 .638-.057l.07.057a.5.5 0 0 1 0 .708L12.707 12l6.147 6.146a.5.5 0 0 1 .057.638l-.057.07a.5.5 0 0 1-.708 0L12 12.707l-6.146 6.147a.5.5 0 0 1-.638.057l-.07-.057a.5.5 0 0 1 0-.708L11.293 12 5.146 5.854a.5.5 0 0 1-.057-.638z">
                                </path>
                            </svg>
                        </button>
                        <button id="searchButton" onclick="forwardPage()"
                                style="visibility: hidden; display: none;">Search
                        </button>
                    </div>
                </div>

                <div aria-label="Menu" role="group" class="right_control">
                    <a href="./pages/about.html" style="text-decoration: none;">
                        <button type="button" id="help_btn" class="top_bar_btn" aria-label="about us">
                            <i class="fa fa-question-circle-o w3-xlarge"></i>
                        </button>
                    </a>

                    <button type="button" id="notification_btn" class="top_bar_btn" onclick="controlNotification()" aria-label="notification">
                        <i class="fa fa-bell-o w3-large"></i>
                        <span id="new_notifications" class="new_notifications"></span>
                    </button>

                    <button type="button" id="user_btn_detail" class="top_bar_btn" onclick="controlProfile()" aria-label="profile">
                        <i class="fa fa-user-circle w3-xlarge"></i>
                    </button>

                    <button type="button" id="signout_btn" class="top_bar_btn" onclick="sign_out()" aria-label="signout">
                        <i class="fa fa-sign-out w3-xlarge"></i>
                    </button>

                </div>
            </div>
        </div>

        <div id="app_holder">
            <div id="content_wrapper">
                <div id="holder_overlay" class="left_menu_overlay left_menu_overlay-exit-done"></div>
                <div id="left_menu" class="left_menu new_side_bar_design" style="width: 305px;">
                    <div id="list_holder" role="navigation" style="width: 265px;">
                        <ul id="top_filters" class="new_sidebar_design">
                            <li id="filter_inbox" class="filter current" role="link">
                                <a class="active" href="completed_task.html" aria-current="page">
                                        <span aria-hidden="true" class="item_icon">
                                            <i class="fa fa-check-circle w3-large"></i>
                                        </span>
                                    <span class="item_content">Completed</span>
                                </a>
                            </li>
                            <li id="filter_today" class="filter">
                                <a href="../index.html" aria-current="page">
                                        <span aria-hidden="true" class="item_icon"><i
                                                class="fa fa-calendar-check-o w3-large"></i></span>
                                    <span class="item_content">Today</span>
                                </a>
                            </li>
                            <li id="filter_upcoming" class="filter">
                                <a href="upcomingtask.html">
                                        <span class="item_icon" aria-hidden="true"><i
                                                class="fa fa-calendar w3-large"></i></span>
                                    <span class="item_content">Upcoming</span>
                                </a>
                            </li>
                        </ul>
                        <div class="sidebar_expansion_panel expansion_panel expansion_panel--expanded">
                            <div class="expansion_panel__header" style="top: auto;">
                                <button type="button" onclick="controlListProject()"
                                        data-track="navigation|projects_panel" aria-expanded="true"
                                        aria-label="Toggle list of Projects" class="expansion_panel__toggle">
                                    <div aria-hidden="true" class="expansion_panel__toggle_icon">
                                        <i id="ic_open_list_projects" class="fa fa-chevron-right w3-small"></i>
                                        <i id="ic_close_list_projects" style="display: none;"
                                           class="fa fa-chevron-down w3-small"></i>
                                    </div>
                                    Projects
                                </button>
                                <div class="expansion_panel__actions">
                                    <button type="button" id="btn_add_project"
                                            class="adder_icon">
                                        <svg width="13" height="13">
                                            <path
                                                    d="M6 6V.5a.5.5 0 0 1 1 0V6h5.5a.5.5 0 1 1 0 1H7v5.5a.5.5 0 1 1-1 0V7H.5a.5.5 0 0 1 0-1H6z"
                                                    fill="currentColor" fill-rule="evenodd"></path>
                                        </svg>
                                    </button>
                                </div>
                            </div>
                            <div id="div_list_project" class="reactist collapse" style="min-height: 0px;">
                                <div class="collapse__wrapper">
                                    <div class="collapse__wrapper_inner">
                                        <ul id="projects_list" aria-label="Projects"
                                            class="items generic_left_list">
                                        </ul>

                                        <div id="projects_list_manager" class="left_list_manager_holder">
                                            <div class="controller actions controller_history"
                                                 id="projects_archived_holder">
                                                <a id="show_archived_project" onclick="show_archived_project()"
                                                   style="display: flex;">Archived
                                                    projects
                                                </a>
                                                <a id="hide_archived_project" onclick="hide_archived_project()"
                                                   style="display: none;">Hide
                                                    Archived
                                                </a>
                                            </div>
                                            <ul id="projects_archived_list" class="items generic_left_list">
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <main id="content" class="main_contents" style="margin-left: 303px;">
                    <div id="editor">
                        <div id="agenda_view" class="today_view">

                            <header id="headerView" class="view_header large_margin_bottom has_children">
                                <div class="view_header__content">
                                    <h1>
                                        <span>Completed</span>
                                    </h1>
                                    <div class="view_header__actions">
                                        <button type="button" aria-label="Sort options menu" class="w3-small"
                                                onclick="sortTaskCompleted()">
                                            <svg width="24" height="24" viewBox="0 0 24 24">
                                                <path fill="currentColor"
                                                      d="M16.854 5.146l3 3a.502.502 0 01-.708.708L17 6.707V18.5a.5.5 0 01-1 0V6.707l-2.146 2.147a.502.502 0 01-.708-.708l3-3a.502.502 0 01.708 0zM7.5 5a.5.5 0 01.5.5v11.791l2.146-2.145a.502.502 0 01.708.708l-3 3a.502.502 0 01-.708 0l-3-3a.502.502 0 01.708-.708L7 17.293V5.5a.5.5 0 01.5-.5z">
                                                </path>
                                            </svg>
                                            <span class="action_label">Sort</span>
                                        </button>
                                    </div>

                            </header>

                            <div class="view_content" id="list-date-task-completed">

                            </div>

                        </div>

                        <div id="notification_box" class="notification_box" style="display: none;">
                            <p>Notification</p>
                            <ul id="list_notifications">
                            </ul>
                        </div>

                        <div id="profile_box" class="profile_box" style="display: none;">
                            <p class="username" id="username"></p>
                            <p class="account_action" onclick="sign_out()">Sign out</p>
                        </div>

                </main>

            </div>

        </div>

    </div>
</div>

<!-- The Project Modal -->
<div id="myModal" class="modal">

    <!-- Modal content -->
    <div class="modal-content">
        <div class="modal-header">
            <span class="modal_close">&times;</span>
            <h2>Modal Header</h2>
        </div>
        <div class="modal-body">
            <p>Some text in the Modal Body</p>
            <p>Some other text...</p>
        </div>
        <div class="modal-footer">
            <h3>Modal Footer</h3>
        </div>
    </div>

</div>

<div id="addProjectModal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <span id="btn_close_add_project_modal" class="modal_close">&times;</span>
            <p>Add project</p>
        </div>
        <div class="modal-body">
            <p>Name</p>
            <input type="text" id="new_project_name" autocomplete="off">
        </div>
        <div class="modal-footer">
            <button type="button" id="btn_add_new_project" class="btn_add_project">Add</button>
        </div>
    </div>
</div>

</body>

<script src="../js/list_project_control.js"></script>
<script src="../js/notification_control.js"></script>
<script src="../js/topbtn_control.js"></script>
<script src="../js/register-sw.js"></script>
<script>
    window.addEventListener('load', () => {
        if (navigator.onLine) {
            document.getElementById('offline_box').style.display = 'none'
        } else {
            document.getElementById('offline_box').style.display = 'block'
        }

        window.addEventListener('offline', () => {
            document.getElementById('offline_box').style.display = 'block'

            let temp = document.getElementsByClassName('a')
            for (let i = 0; i < temp.length; i++) {
                temp[i].href = '/todo/frontend/pages/fallback.html'
            }
        })

        window.addEventListener('online', () => {
            document.getElementById('offline_box').style.display = 'none'
        })
        if (navigator.onLine) {
            getCompletedTask();
            getProjectFromDB();
        } else {
            getCompletedTaskOffline()
        }
    })
</script>

</html>